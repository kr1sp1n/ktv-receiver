<html>
  <head>
    <title>KTV Receiver</title>
    <script type="text/javascript" src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
    <style>
      body {
        font-family: "Helvetica Neue", helvetica, arial;
        padding: 15px;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      ul li {
        line-height: 1.4;
      }
    </style>

    <script>
    //   var host = location.origin.replace(/^http/, 'ws')
    //   var ws = new WebSocket(host);
    //   ws.onmessage = function (event) {
    //     var li = document.createElement('li');
    //     li.innerHTML = event.data
    //     document.querySelector('#pings').appendChild(li);
    //   };
    </script>

  </head>
  <body>
    <h1>KTV</h1>
    <ul id='pings'></ul>
    <video id='media'/>
    <script>
      window.onload = function() {
        window.mediaElement = document.getElementById('media');
        window.mediaManager = new cast.receiver.MediaManager(window.mediaElement);
        window.castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
        var appConfig = new cast.receiver.CastReceiverManager.Config();
        appConfig.statusText = 'Ready to play';
        appConfig.maxInactivity = 6000;
        window.castReceiverManager.start(appConfig);
      }
    </script>
  </body>
</html>